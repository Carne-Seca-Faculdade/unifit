<main class="h-full">
  <div
    class="flex flex-col justify-between h-full max-w-sm gap-4 p-4 px-6 overflow-hidden bg-white rounded-md shadow-sm"
  >
    <div>
      <div class="mb-2 text-xl font-semibold">{{ exercise.name }}</div>
      <p class="text-base text-gray-700 break-all text-wrap">
        {{ exercise.description || 'Sem descrição' }}
      </p>
    </div>

    <div>
      <div class="flex flex-wrap gap-2">
        <span
          class="inline-block px-3 py-1 text-sm font-semibold text-blue-700 bg-blue-200 rounded-full"
          >{{ exercise.sets }} sets</span
        >
        <span
          class="inline-block px-3 py-1 text-sm font-semibold text-green-700 bg-green-200 rounded-full"
          >{{ exercise.reps }} reps</span
        >
      </div>
      <div class="flex justify-between mt-4">
        <p-button
          label="Editar"
          icon="pi pi-pencil"
          (click)="showEditExerciseDialog()"
          size="small"
        ></p-button>
        <p-button
          label="Deletar"
          icon="pi pi-trash"
          (click)="showDeleteExerciseDialog()"
          size="small"
          severity="danger"
        ></p-button>
      </div>
    </div>
  </div>

  <p-dialog
    header="Editar Exercício"
    [modal]="true"
    [(visible)]="editExerciseDialogVisible"
    [style]="{ width: '30rem' }"
    draggable="false"
  >
    <span class="block mb-4 text-gray-600"
      >Atualize as informações do exercício.</span
    >
    <div class="space-y-4">
      <div class="flex items-center">
        <label for="editExerciseName" class="w-full font-semibold"
          >Título do Exercício</label
        >
        <input
          type="text"
          pInputText
          id="editExerciseName"
          autocomplete="off"
          [(ngModel)]="selectedExercise.name"
        />
      </div>
      <div class="flex items-center">
        <label for="editExerciseDescription" class="w-full font-semibold"
          >Descrição</label
        >
        <input
          type="text"
          id="editExerciseDescription"
          pInputText
          autocomplete="off"
          [(ngModel)]="selectedExercise.description"
        />
      </div>
      <div class="flex items-center">
        <label for="editExerciseSets" class="w-full font-semibold"
          >Séries</label
        >
        <p-inputNumber
          id="editExerciseSets"
          mode="decimal"
          [min]="1"
          [(ngModel)]="selectedExercise.sets"
          autocomplete="off"
        />
      </div>
      <div class="flex items-center">
        <label for="editExerciseReps" class="w-full font-semibold"
          >Repetições</label
        >
        <p-inputNumber
          id="editExerciseReps"
          mode="decimal"
          [min]="1"
          [(ngModel)]="selectedExercise.reps"
          autocomplete="off"
        />
      </div>
    </div>
    <div class="flex justify-end gap-2 mt-4">
      <p-button
        label="Cancelar"
        severity="secondary"
        (click)="hideEditExerciseDialog()"
      ></p-button>
      <p-button label="Salvar" (click)="saveExercise()"></p-button>
    </div>
  </p-dialog>

  <p-dialog
    header="Confirmar Deletar"
    [modal]="true"
    [(visible)]="deleteExerciseDialogVisible"
    [style]="{ width: '30rem' }"
    draggable="false"
  >
    <span class="block mb-4 text-gray-600"
      >Você tem certeza que deseja deletar este exercício?</span
    >
    <div class="flex justify-end gap-2 mt-4">
      <p-button
        label="Cancelar"
        severity="secondary"
        (click)="hideDeleteExerciseDialog()"
      ></p-button>
      <p-button label="Deletar" (click)="deleteExercise()"></p-button>
    </div>
  </p-dialog>
</main>
